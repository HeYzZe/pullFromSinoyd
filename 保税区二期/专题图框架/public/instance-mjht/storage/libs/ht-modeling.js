!function(x,b,v){"use strict";var V="ht",n=x[V],Z=null,Y=Math,p=Y.PI,a=Y.cos,L=Y.sin,N=Y.abs,y=Y.max,g=Y.sqrt,e=1e-5,S=n.Default,h=S.def,D=S.startAnim,A=S.createMatrix,s=S.transformVec,o=S.getInternal(),c=o.addMethod,C=o.superCall,m=o.toPointsArray,P=o.createNormals,H=o.toFloatArray,t=o.glMV,U=o.batchShape,i=o.createNodeMatrix,l=o.getFaceInfo,_=o.transformAppend,R=o.drawFaceInfo,Q=o.createAnim,j=o.cube(),u=j.is,E=j.vs,w=j.uv,X=o.ui(),G=n.Node,$=n.Shape,J="h",F="v",r="front",B="back",T="left",k="right",K="top",I="bottom",M="dw.expanded",d=".expanded",f="dw.angle",q=".angle",O=function(g,k,I){h(V+"."+g,k,I)},W=function(I,v,b){b?I.push(v.x,v.y):I.push(v.x,v.y,v.z)},z=[1,0,0],jr=function(x,h,S,b){var f,Q,c,L,R=0,q=[];if(b)for(f=b.length;f>R;R+=3)Q=b[R],c=b[R+1],L=b[R+2],q.push(new Yc([new Bh([h[3*Q],h[3*Q+1],h[3*Q+2]],z,S?[S[2*Q],S[2*Q+1],0]:Z),new Bh([h[3*c],h[3*c+1],h[3*c+2]],z,S?[S[2*c],S[2*c+1],0]:Z),new Bh([h[3*L],h[3*L+1],h[3*L+2]],z,S?[S[2*L],S[2*L+1],0]:Z)],x));else for(f=h.length;f>R;R+=3)Q=R,c=R+1,L=R+2,q.push(new Yc([new Bh([h[3*Q],h[3*Q+1],h[3*Q+2]],z,S?[S[2*Q],S[2*Q+1],0]:Z),new Bh([h[3*c],h[3*c+1],h[3*c+2]],z,S?[S[2*c],S[2*c+1],0]:Z),new Bh([h[3*L],h[3*L+1],h[3*L+2]],z,S?[S[2*L],S[2*L+1],0]:Z)],x));return q},qs=[T,r,k,B,K,I],Mc=qs.concat("csg"),jj=[0,6,12,18,24,30],_i=function(K,C,T){for(var J=i(K),o=[],D=0;6>D;D++)for(var _=qs[D],l=jj[D],y=T?C.getFaceUv(K,_):Z,j=T?C.getFaceUvScale(K,_):Z,g=T?C.getFaceUvOffset(K,_):Z,U=0;2>U;U++){var t,n,$,m=u[l+3*U],X=u[l+3*U+1],k=u[l+3*U+2];if(T){if(y){var h=8*D;t=[y[2*m-h],y[2*m+1-h],0],n=[y[2*X-h],y[2*X+1-h],0],$=[y[2*k-h],y[2*k+1-h],0]}else t=[w[2*m],w[2*m+1],0],n=[w[2*X],w[2*X+1],0],$=[w[2*k],w[2*k+1],0];j&&(t[0]*=j[0],t[1]*=j[1],n[0]*=j[0],n[1]*=j[1],$[0]*=j[0],$[1]*=j[1]),g&&(t[0]+=g[0],t[1]+=g[1],n[0]+=g[0],n[1]+=g[1],$[0]+=g[0],$[1]+=g[1])}o.push(new Yc([new Bh(s([E[3*m],E[3*m+1],E[3*m+2]],J),z,t),new Bh(s([E[3*X],E[3*X+1],E[3*X+2]],J),z,n),new Bh(s([E[3*k],E[3*k+1],E[3*k+2]],J),z,$)],K))}return fc.$15n(o)},kl=function(w,_){var k,c=w.data.getAttaches();if(c&&c.each(function(f){f instanceof eh&&f.s("attach.operation")&&(k||(k=[]),k.push(f))}),k){var G;qs.forEach(function(v){var U=jr(v,w[v].vs,w[v].tuv);G=G?G.concat(U):U}),G=fc.$15n(G),k.forEach(function(p){var A=p.s("attach.operation");G[A]&&(G=G[A](_i(p,w.gv,w.csg.tuv)))}),qs.forEach(function(z){z=w[z],z.vs=[],z.tuv&&(z.tuv=[])}),G.$19n().forEach(function(E){var Q=E.$10n;if(Q instanceof eh){if(Q.s("attach.cull"))return;Q="csg"}for(var D=w[Q],F=D.vs,s=D.tuv,$=E.$9n,u=2;u<$.length;u++)W(F,$[0].$24n),W(F,$[u-1].$24n),W(F,$[u].$24n),s&&(W(s,$[0].uv,!0),W(s,$[u-1].uv,!0),W(s,$[u].uv,!0))})}Mc.forEach(function(j){var g=w[j];g.visible&&g.vs.length?(g.ns=P(g.vs),H(g,"vs"),H(g,"tuv")):delete w[j]}),_&&(U(w,Z,_),w.clear())};c(S,{createFrameModel:function(g,E,T,m){g=g==Z?.07:g,E=E==Z?g:E,T=T==Z?g:T,m=m?m:{};var U=m.top,j=m.bottom,X=m.left,q=m.right,_=m.front,Q=m.back,r=[],N=[];return _===!0?(r.push(-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,.5),N.push(0,0,0,1,1,1,1,1,1,0,0,0)):_===!1||(r.push(-.5,.5,.5,-.5,-.5,.5,-.5+g,-.5,.5,-.5+g,-.5,.5,-.5+g,.5,.5,-.5,.5,.5,.5-g,.5,.5,.5-g,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5-g,.5,.5,-.5+g,.5,.5,-.5+g,.5-E,.5,.5-g,.5-E,.5,.5-g,.5-E,.5,.5-g,.5,.5,-.5+g,.5,.5,-.5+g,-.5+E,.5,-.5+g,-.5,.5,.5-g,-.5,.5,.5-g,-.5,.5,.5-g,-.5+E,.5,-.5+g,-.5+E,.5),N.push(0,0,0,1,g,1,g,1,g,0,0,0,1-g,0,1-g,1,1,1,1,1,1,0,1-g,0,g,0,g,E,1-g,E,1-g,E,1-g,0,g,0,g,1-E,g,1,1-g,1,1-g,1,1-g,1-E,g,1-E)),Q===!0?(r.push(-.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5),N.push(1,0,0,1,1,1,0,1,1,0,0,0)):Q===!1||(r.push(-.5,.5,-.5,-.5+g,-.5,-.5,-.5,-.5,-.5,-.5+g,-.5,-.5,-.5,.5,-.5,-.5+g,.5,-.5,.5-g,.5,-.5,.5,-.5,-.5,.5-g,-.5,-.5,.5,-.5,-.5,.5-g,.5,-.5,.5,.5,-.5,-.5+g,.5,-.5,.5-g,.5-E,-.5,-.5+g,.5-E,-.5,.5-g,.5-E,-.5,-.5+g,.5,-.5,.5-g,.5,-.5,-.5+g,-.5+E,-.5,.5-g,-.5,-.5,-.5+g,-.5,-.5,.5-g,-.5,-.5,-.5+g,-.5+E,-.5,.5-g,-.5+E,-.5),N.push(1,0,1-g,1,1,1,1-g,1,1,0,1-g,0,g,0,0,1,g,1,0,1,g,0,0,0,1-g,0,g,E,1-g,E,g,E,1-g,0,g,0,1-g,1-E,g,1,1-g,1,g,1,1-g,1-E,g,1-E)),X===!0?(r.push(-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5),N.push(0,0,0,1,1,1,1,1,1,0,0,0)):X===!1||(r.push(-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5+T,-.5,-.5,-.5+T,-.5,.5,-.5+T,-.5,.5,-.5,-.5,.5,.5-T,-.5,-.5,.5-T,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5-T,-.5,.5,-.5+T,-.5,.5-E,-.5+T,-.5,.5-E,.5-T,-.5,.5-E,.5-T,-.5,.5,.5-T,-.5,.5,-.5+T,-.5,-.5+E,-.5+T,-.5,-.5,-.5+T,-.5,-.5,.5-T,-.5,-.5,.5-T,-.5,-.5+E,.5-T,-.5,-.5+E,-.5+T),N.push(0,0,0,1,T,1,T,1,T,0,0,0,1-T,0,1-T,1,1,1,1,1,1,0,1-T,0,T,0,T,E,1-T,E,1-T,E,1-T,0,T,0,T,1-E,T,1,1-T,1,1-T,1,1-T,1-E,T,1-E)),q===!0?(r.push(.5,.5,-.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,.5,.5,.5,-.5,.5,.5,.5),N.push(1,0,0,1,1,1,0,1,1,0,0,0)):q===!1||(r.push(.5,.5,-.5,.5,-.5,-.5+T,.5,-.5,-.5,.5,-.5,-.5+T,.5,.5,-.5,.5,.5,-.5+T,.5,.5,.5-T,.5,-.5,.5,.5,-.5,.5-T,.5,-.5,.5,.5,.5,.5-T,.5,.5,.5,.5,.5,-.5+T,.5,.5-E,.5-T,.5,.5-E,-.5+T,.5,.5-E,.5-T,.5,.5,-.5+T,.5,.5,.5-T,.5,-.5+E,-.5+T,.5,-.5,.5-T,.5,-.5,-.5+T,.5,-.5,.5-T,.5,-.5+E,-.5+T,.5,-.5+E,.5-T),N.push(1,0,1-T,1,1,1,1-T,1,1,0,1-T,0,T,0,0,1,T,1,0,1,T,0,0,0,1-T,0,T,E,1-T,E,T,E,1-T,0,T,0,1-T,1-E,T,1,1-T,1,T,1,1-T,1-E,T,1-E)),U===!0?(r.push(.5,.5,.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,.5),N.push(1,1,1,0,0,0,0,0,0,1,1,1)):U===!1||(r.push(.5,.5,.5,.5,.5,-.5,.5-g,.5,-.5,.5-g,.5,-.5,.5-g,.5,.5,.5,.5,.5,-.5+g,.5,.5,-.5+g,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5+g,.5,.5,.5-g,.5,.5,.5-g,.5,.5-T,-.5+g,.5,.5-T,-.5+g,.5,.5-T,-.5+g,.5,.5,.5-g,.5,.5,.5-g,.5,-.5+T,.5-g,.5,-.5,-.5+g,.5,-.5,-.5+g,.5,-.5,-.5+g,.5,-.5+T,.5-g,.5,-.5+T),N.push(1,1,1,0,1-g,0,1-g,0,1-g,1,1,1,g,1,g,0,0,0,0,0,0,1,g,1,1-g,1,1-g,1-T,g,1-T,g,1-T,g,1,1-g,1,1-g,T,1-g,0,g,0,g,0,g,T,1-g,T)),j===!0?(r.push(.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,-.5,-.5,.5),N.push(1,0,0,1,1,1,0,1,1,0,0,0)):j===!1||(r.push(.5,-.5,.5,.5-g,-.5,-.5,.5,-.5,-.5,.5-g,-.5,-.5,.5,-.5,.5,.5-g,-.5,.5,-.5+g,-.5,.5,-.5,-.5,-.5,-.5+g,-.5,-.5,-.5,-.5,-.5,-.5+g,-.5,.5,-.5,-.5,.5,.5-g,-.5,.5,-.5+g,-.5,.5-T,.5-g,-.5,.5-T,-.5+g,-.5,.5-T,.5-g,-.5,.5,-.5+g,-.5,.5,.5-g,-.5,-.5+T,-.5+g,-.5,-.5,.5-g,-.5,-.5,-.5+g,-.5,-.5,.5-g,-.5,-.5+T,-.5+g,-.5,-.5+T),N.push(1,0,1-g,1,1,1,1-g,1,1,0,1-g,0,g,0,0,1,g,1,0,1,g,0,0,0,1-g,0,g,T,1-g,T,g,T,1-g,0,g,0,1-g,1-T,g,1,1-g,1,g,1,1-g,1-T,g,1-T)),{vs:r,uv:N}}}),c(n.Style,{"dw.flip":!1,"dw.s3":[.999,.999,.5],"dw.t3":v,"dw.expanded":!1,"dw.toggleable":!0,"dw.axis":"left","dw.start":0,"dw.end":p/2,"dw.angle":0,"attach.cull":!1,"attach.operation":"subtract"},!0),qs.forEach(function(y){var S={};S[y+d]=!1,S[y+".toggleable"]=!1,S[y+".axis"]=T,S[y+".start"]=0,S[y+".end"]=p/2,S[y+q]=0,c(n.Style,S,!0)});var fc=function(){this.$4n=[]};fc.$15n=function(g){var o=new fc;return o.$4n=g,o},fc.prototype={clone:function(){var N=new fc;return N.$4n=this.$4n.map(function(R){return R.clone()}),N},$19n:function(){return this.$4n},union:function(S){var t=new Og(this.clone().$4n),A=new Og(S.clone().$4n);return t.$3n(A),A.$3n(t),A.$6n(),A.$3n(t),A.$6n(),t.$7n(A.$2n()),fc.$15n(t.$2n())},subtract:function(A){var x=new Og(this.clone().$4n),Q=new Og(A.clone().$4n);return x.$6n(),x.$3n(Q),Q.$3n(x),Q.$6n(),Q.$3n(x),Q.$6n(),x.$7n(Q.$2n()),x.$6n(),fc.$15n(x.$2n())},intersect:function(E){var w=new Og(this.clone().$4n),d=new Og(E.clone().$4n);return w.$6n(),d.$3n(w),d.$6n(),w.$3n(d),d.$3n(w),w.$7n(d.$2n()),w.$6n(),fc.$15n(w.$2n())},inverse:function(){var D=this.clone();return D.$4n.map(function(A){A.flip()}),D}},fc.cube=function(G){G=G||{};var C=new Aq(G.center||[0,0,0]),A=G.radius?G.radius.length?G.radius:[G.radius,G.radius,G.radius]:[1,1,1];return fc.$15n([[[0,4,6,2],[-1,0,0]],[[1,3,7,5],[1,0,0]],[[0,1,5,4],[0,-1,0]],[[2,6,7,3],[0,1,0]],[[0,2,3,1],[0,0,-1]],[[4,5,7,6],[0,0,1]]].map(function(a){return new Yc(a[0].map(function(H){var Z=new Aq(C.x+A[0]*(2*!!(1&H)-1),C.y+A[1]*(2*!!(2&H)-1),C.z+A[2]*(2*!!(4&H)-1));return new Bh(Z,new Aq(a[1]))}))}))},fc.sphere=function(l){function z(h,n){h*=2*p,n*=p;var v=new Aq(a(h)*L(n),a(n),L(h)*L(n));V.push(new Bh(q.$20n(v.$21n(s)),v))}l=l||{};for(var V,q=new Aq(l.center||[0,0,0]),s=l.radius||1,O=l.slices||16,N=l.stacks||8,I=[],U=0;O>U;U++)for(var F=0;N>F;F++)V=[],z(U/O,F/N),F>0&&z((U+1)/O,F/N),N-1>F&&z((U+1)/O,(F+1)/N),z(U/O,(F+1)/N),I.push(new Yc(V));return fc.$15n(I)},fc.cylinder=function(Z){function X(C,l,x){var G=2*l*p,n=J.$21n(a(G)).$20n(O.$21n(L(G))),X=o.$20n(j.$21n(C)).$20n(n.$21n(b)),D=n.$21n(1-N(x)).$20n(s.$21n(x));return new Bh(X,D)}Z=Z||{};for(var o=new Aq(Z.start||[0,-1,0]),I=new Aq(Z.end||[0,1,0]),j=I.$13n(o),b=Z.radius||1,S=Z.slices||16,s=j.$14n(),B=N(s.y)>.5,J=new Aq(B,!B,0).$12n(s).$14n(),O=J.$12n(s).$14n(),F=new Bh(o,s.$11n()),D=new Bh(I,s.$14n()),H=[],e=0;S>e;e++){var u=e/S,G=(e+1)/S;H.push(new Yc([F,X(0,u,-1),X(0,G,-1)])),H.push(new Yc([X(0,G,0),X(0,u,0),X(1,u,0),X(1,G,0)])),H.push(new Yc([D,X(1,G,1),X(1,u,1)]))}return fc.$15n(H)};var Aq=function(q,z,o){var k=this;3==arguments.length?(k.x=q,k.y=z,k.z=o):"x"in q?(k.x=q.x,k.y=q.y,k.z=q.z):(k.x=q[0],k.y=q[1],k.z=q[2])};Aq.prototype={clone:function(){return new Aq(this.x,this.y,this.z)},$11n:function(){return new Aq(-this.x,-this.y,-this.z)},$20n:function(q){return new Aq(this.x+q.x,this.y+q.y,this.z+q.z)},$13n:function(l){return new Aq(this.x-l.x,this.y-l.y,this.z-l.z)},$21n:function(p){return new Aq(this.x*p,this.y*p,this.z*p)},$16n:function(f){return new Aq(this.x/f,this.y/f,this.z/f)},$23n:function(V){return this.x*V.x+this.y*V.y+this.z*V.z},lerp:function(s,C){return this.$20n(s.$13n(this).$21n(C))},length:function(){return g(this.$23n(this))},$14n:function(){return this.$16n(this.length())},$12n:function(m){var R=this;return new Aq(R.y*m.z-R.z*m.y,R.z*m.x-R.x*m.z,R.x*m.y-R.y*m.x)}};var Bh=function(b,D,Z){var l=this;l.$24n=new Aq(b),l.$22n=new Aq(D),l.uv=Z?new Aq(Z):null};Bh.prototype={clone:function(){var r=this;return new Bh(r.$24n.clone(),r.$22n.clone(),r.uv?r.uv.clone():null)},flip:function(){this.$22n=this.$22n.$11n()},$18n:function(B,P){var x=this;return new Bh(x.$24n.lerp(B.$24n,P),x.$22n.lerp(B.$22n,P),x.uv?x.uv.lerp(B.uv,P):null)}};var Vq=function(t,Z){this.$22n=t,this.w=Z};Vq.$17n=function(l,i,f){var v=i.$13n(l).$12n(f.$13n(l)).$14n();return new Vq(v,v.$23n(l))},Vq.prototype={clone:function(){return new Vq(this.$22n.clone(),this.w)},flip:function(){var O=this;O.$22n=O.$22n.$11n(),O.w=-O.w},$5n:function(F,l,y,N,S){for(var b=this,Y=0,m=1,C=2,x=3,T=0,n=[],o=0;o<F.$9n.length;o++){var w=b.$22n.$23n(F.$9n[o].$24n)-b.w,s=-e>w?C:w>e?m:Y;T|=s,n.push(s)}switch(T){case Y:(b.$22n.$23n(F.$8n.$22n)>0?l:y).push(F);break;case m:N.push(F);break;case C:S.push(F);break;case x:for(var t=[],L=[],o=0;o<F.$9n.length;o++){var Q=(o+1)%F.$9n.length,u=n[o],a=n[Q],j=F.$9n[o],q=F.$9n[Q];if(u!=C&&t.push(j),u!=m&&L.push(u!=C?j.clone():j),(u|a)==x){var w=(b.w-this.$22n.$23n(j.$24n))/b.$22n.$23n(q.$24n.$13n(j.$24n)),D=j.$18n(q,w);t.push(D),L.push(D.clone())}}t.length>=3&&N.push(new Yc(t,F.$10n)),L.length>=3&&S.push(new Yc(L,F.$10n))}}};var Yc=function(d,h){var L=this;L.$9n=d,L.$10n=h,L.$8n=Vq.$17n(d[0].$24n,d[1].$24n,d[2].$24n)};Yc.prototype={clone:function(){var u=this.$9n.map(function(v){return v.clone()});return new Yc(u,this.$10n)},flip:function(){this.$9n.reverse().map(function(K){K.flip()}),this.$8n.flip()}};var Og=function(B){var K=this;K.$8n=null,K.front=null,K.back=null,K.$4n=[],B&&K.$7n(B)};Og.prototype={clone:function(){var c=this,z=new Og;return z.$8n=c.$8n&&c.$8n.clone(),z.front=c.front&&c.front.clone(),z.back=c.back&&c.back.clone(),z.$4n=c.$4n.map(function(s){return s.clone()}),z},$6n:function(){for(var a=this,g=0;g<a.$4n.length;g++)a.$4n[g].flip();a.$8n.flip(),a.front&&a.front.$6n(),a.back&&a.back.$6n();var n=a.front;a.front=a.back,a.back=n},$1n:function(h){var b=this;if(!b.$8n)return h.slice();for(var K=[],u=[],J=0;J<h.length;J++)b.$8n.$5n(h[J],K,u,K,u);return b.front&&(K=b.front.$1n(K)),u=b.back?b.back.$1n(u):[],K.concat(u)},$3n:function(d){var s=this;s.$4n=d.$1n(s.$4n),s.front&&s.front.$3n(d),s.back&&s.back.$3n(d)},$2n:function(){var H=this,z=H.$4n.slice();return H.front&&(z=z.concat(H.front.$2n())),H.back&&(z=z.concat(H.back.$2n())),z},$7n:function(u){var w=this;if(u.length){w.$8n||(w.$8n=u[0].$8n.clone());for(var X=[],h=[],l=0;l<u.length;l++)this.$8n.$5n(u[l],w.$4n,w.$4n,X,h);X.length&&(w.front||(w.front=new Og),this.front.$7n(X)),h.length&&(w.back||(w.back=new Og),w.back.$7n(h))}}};var Xr="symbol",Qf=n.Symbol=function(V,q,l){var M=this;C(Qf,M),M.s3(20,20,20),M.s({"all.visible":!1,shape:"rect"}),M.setIcon(V,q,l)};O("Symbol",G,{setIcon:function(n,q,E){var J,f=this;return Qf.superClass.setIcon.call(f,n),n?(J={for3d:!0,face:"center",position:44,names:[n]},E&&(J.transaprent=!0),q&&(J.autorotate=q),f.addStyleIcon(Xr,J)):f.removeStyleIcon(Xr),f.setWidth(o.getImageWidth(S.getImage(n),f)||20),J}});var eh=n.CSGNode=function(){C(eh,this),this.s({shape:"rect","attach.thickness":1.001})},yr={position:1,width:1,height:1,rotation:1,rotationX:1,rotationZ:1,rotationMode:1,tall:1,elevation:1,"s:attach.cull":1,"s:attach.operation":1};O("CSGNode",G,{_22Q:function(){return rc},onPropertyChanged:function(D){var i=this,Z=i.getHost();eh.superClass.onPropertyChanged.call(i,D),yr[D.property]&&(Z instanceof Nd||Z instanceof eh)&&Z.fp("csgNodeChange",!0,!1)}});var rc=function(c,T){C(rc,this,[c,T])};h(rc,X.Node3dUI,{_80o:function(g,v,K){var b=this;b._shape3d?rc.superClass._80o.call(b,g,v,K):(t(b.gv),Mc.forEach(function(H){R(b,g,v,b[H],K)}))},validate:function(A,y){var L=this,J=L.gv,G=L.data;if(G.s("shape3d"))return rc.superClass.validate.call(L,A,y),L._shape3d=!0,void 0;L._shape3d=!1;var k=i(G,J.getMat(G)),l=A&&A.uv;L.vf2("csg",l);for(var t=0;6>t;t++)for(var D=qs[t],P=jj[t],N=L.vf2(D,l,y),Q=N.mat||k,S=N.vs,Y=N.uv,U=N.tuv,$=0;2>$;$++){var o=u[P+3*$],n=u[P+3*$+1],W=u[P+3*$+2];if(_(S,Q,[E[3*o],E[3*o+1],E[3*o+2]]),_(S,Q,[E[3*n],E[3*n+1],E[3*n+2]]),_(S,Q,[E[3*W],E[3*W+1],E[3*W+2]]),U)if(Y){var B=8*t;U.push(Y[2*o-B],Y[2*o+1-B],Y[2*n-B],Y[2*n+1-B],Y[2*W-B],Y[2*W+1-B])}else U.push(w[2*o],w[2*o+1],w[2*n],w[2*n+1],w[2*W],w[2*W+1])}kl(L,A,y)},vf2:function(D,O,v){var B,A=this,y=A.gv.getFaceVisible(A.data,D);return B=l(A,D,v),B.vs=[],B.tuv=y&&(B.texture||O)?[]:Z,B.visible=y,B}});var Nd=n.CSGShape=function(){var P=this;C(Nd,P),P.s({"shape.background":Z,"shape.border.width":8}),P.setTall(240),P.setElevation(120),P.setThickness(14)};O("CSGShape",$,{IRotatable:!1,_22Q:function(){return Je},setRotationX:function(){},setRotation:function(){},setRotationZ:function(){},setSegments:function(){}});var Je=function(m,k){C(Je,this,[m,k])};h(Je,X.Shape3dUI,{_80o:function(j,$,X){var E=this;E.undrawable||(t(E.gv),Mc.forEach(function(Z){R(E,j,$,E[Z],X)}))},validate:function(B,X){var v=this,T=v.data,a=T.getPoints();if(v.undrawable=a.size()<2)return v.clear(),void 0;var w=T.isClosePath(),K=y(T._thickness/2,e),c=m(a,Z,Z,w);Mc.forEach(function(J){v.vf(J,B&&B.uv,!0,X)}),w&&(v.left.visible=!1,v.right.visible=!1),v._12O(c,K),v._20Q(c),kl(v,B,X)}});var Vd=n.DoorWindow=function(){var K=this;C(Vd,K),K.setElevation(100),K.s3(100,200,14)};O("DoorWindow",eh,{IDoorWindow:!0,toggle:function(q){this.setExpanded(!this.s(M),q)},isExpanded:function(){return this.s(M)},setExpanded:function(e,Z){var W=this,H=W.$25n,k=W.getDataModel(),v=W.s(M);if(H&&(H.stop(!0),delete W.$25n),v!==e){k&&k.beginTransaction();var p=e?W.s("dw.end"):W.s("dw.start");W.s(M,e),Z=Q(Z),Z?(v=W.s(f),Z.action=function(R){W.s(f,v+(p-v)*R)},Z.finishFunc=function(){k&&k.endTransaction()},W.$25n=D(Z)):(W.s(f,p),k&&k.endTransaction())}},getMat:function(){var q=this,Y=q.s("dw.s3"),M=q.s("dw.t3"),y=q.s("dw.flip"),t=q.s(f);if(Y||t||M||y){var s=[];if(y&&s.push({r3:[0,p,0]}),Y&&s.push({s3:Y}),t){Y=q.s3();var o=q.s("dw.axis"),D=Y[0]/2,R=Y[1]/2;Y[2]/2,o===T?s.push({t3:[D,0,0]},{r3:[0,-t,0]},{t3:[-D,0,0]}):o===k?s.push({t3:[-D,0,0]},{r3:[0,t,0]},{t3:[D,0,0]}):o===K?s.push({t3:[0,-R,0]},{r3:[-t,0,0]},{t3:[0,R,0]}):o===I?s.push({t3:[0,R,0]},{r3:[t,0,0]},{t3:[0,-R,0]}):o===F?s.push({r3:[0,t,0]}):o===J&&s.push({r3:[t,0,0]})}return M&&s.push({t3:M}),A(s)}return Z}});var nh=n.CSGBox=function(){var w=this;C(nh,w),w.setElevation(100),w.s3(100,200,100)};O("CSGBox",eh,{ICSGBox:!0,toggleFace:function(m,s){this.setFaceExpanded(m,!this.s(m+d),s)},isFaceExpanded:function(r){return this.s(r+d)},setFaceExpanded:function(O,p,b){var g=this,c=g.$25n,k=g.s(O+d);if(c&&(c.stop(!0),delete g.$25n),k!==p){var w=p?g.s(O+".end"):g.s(O+".start");g.s(O+d,p),b=Q(b),b?(k=g.s(O+q),b.action=function(C){g.s(O+q,k+(w-k)*C)},g.$25n=D(b)):g.s(O+q,w)}},getFaceMat:function(h){var b=this,x=b.s(h+q);if(!x)return Z;var d=b.s(h+".axis"),C=b.s3(),L=C[0]/2,u=C[1]/2,v=C[2]/2,j=[];return h===r&&(d===T?j.push({t3:[L,0,-v]},{r3:[0,-x,0]},{t3:[-L,0,v]}):d===k?j.push({t3:[-L,0,-v]},{r3:[0,x,0]},{t3:[L,0,v]}):d===K?j.push({t3:[0,-u,-v]},{r3:[-x,0,0]},{t3:[0,u,v]}):d===I?j.push({t3:[0,u,-v]},{r3:[x,0,0]},{t3:[0,-u,v]}):d===F?j.push({t3:[0,0,-v]},{r3:[0,x,0]},{t3:[0,0,v]}):d===J&&j.push({t3:[0,0,-v]},{r3:[x,0,0]},{t3:[0,0,v]})),h===B&&(d===T?j.push({t3:[-L,0,v]},{r3:[0,-x,0]},{t3:[L,0,-v]}):d===k?j.push({t3:[L,0,v]},{r3:[0,x,0]},{t3:[-L,0,-v]}):d===K?j.push({t3:[0,-u,v]},{r3:[x,0,0]},{t3:[0,u,-v]}):d===I?j.push({t3:[0,u,v]},{r3:[-x,0,0]},{t3:[0,-u,-v]}):d===F?j.push({t3:[0,0,v]},{r3:[0,x,0]},{t3:[0,0,-v]}):d===J&&j.push({t3:[0,0,v]},{r3:[x,0,0]},{t3:[0,0,-v]})),h===T&&(d===T?j.push({t3:[L,0,v]},{r3:[0,-x,0]},{t3:[-L,0,-v]}):d===k?j.push({t3:[L,0,-v]},{r3:[0,x,0]},{t3:[-L,0,v]}):d===K?j.push({t3:[L,-u,0]},{r3:[0,0,-x]},{t3:[-L,u,0]}):d===I?j.push({t3:[L,u,0]},{r3:[0,0,x]},{t3:[-L,-u,0]}):d===F?j.push({t3:[L,0,0]},{r3:[0,x,0]},{t3:[-L,0,0]}):d===J&&j.push({t3:[L,0,0]},{r3:[0,0,x]},{t3:[-L,0,0]})),h===k&&(d===T?j.push({t3:[-L,0,-v]},{r3:[0,-x,0]},{t3:[L,0,v]}):d===k?j.push({t3:[-L,0,v]},{r3:[0,x,0]},{t3:[L,0,-v]}):d===K?j.push({t3:[-L,-u,0]},{r3:[0,0,x]},{t3:[L,u,0]}):d===I?j.push({t3:[-L,u,0]},{r3:[0,0,-x]},{t3:[L,-u,0]}):d===F?j.push({t3:[-L,0,0]},{r3:[0,x,0]},{t3:[L,0,0]}):d===J&&j.push({t3:[-L,0,0]},{r3:[0,0,x]},{t3:[L,0,0]})),h===K&&(d===T?j.push({t3:[L,-u,0]},{r3:[0,0,x]},{t3:[-L,u,0]}):d===k?j.push({t3:[-L,-u,0]},{r3:[0,0,-x]},{t3:[L,u,0]}):d===K?j.push({t3:[0,-u,v]},{r3:[-x,0,0]},{t3:[0,u,-v]}):d===I?j.push({t3:[0,-u,-v]},{r3:[x,0,0]},{t3:[0,u,v]}):d===F?j.push({t3:[0,-u,0]},{r3:[0,0,x]},{t3:[0,u,0]}):d===J&&j.push({t3:[0,-u,0]},{r3:[x,0,0]},{t3:[0,u,0]})),h===I&&(d===T?j.push({t3:[L,u,0]},{r3:[0,0,-x]},{t3:[-L,-u,0]}):d===k?j.push({t3:[-L,u,0]},{r3:[0,0,x]},{t3:[L,-u,0]}):d===K?j.push({t3:[0,u,-v]},{r3:[-x,0,0]},{t3:[0,-u,v]}):d===I?j.push({t3:[0,u,v]},{r3:[x,0,0]},{t3:[0,-u,-v]}):d===F?j.push({t3:[0,u,0]},{r3:[0,0,x]},{t3:[0,-u,0]}):d===J&&j.push({t3:[0,u,0]},{r3:[x,0,0]},{t3:[0,-u,0]})),A(j)}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);