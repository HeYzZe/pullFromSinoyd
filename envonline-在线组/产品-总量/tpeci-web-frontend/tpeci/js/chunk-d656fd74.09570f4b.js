(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d656fd74"],{ab24:function(t,o,a){"use strict";a.r(o);var e=function(){var t=this,o=t.$createElement,a=t._self._c||o;return a("section",{attrs:{"data-mod-margin":"","data-mod-radius":""}},[a("model-title",{attrs:{title:"报警信息",rightStr:"clocks",rightValue:t.titleTstamp,path:"AlarmRecord"}},[a("div",{ref:"echarts",staticClass:"charts"}),a("div",{staticClass:"alarmInfo"},[a("ul",{ref:"list",staticClass:"list"},t._l(t.alarmRecord,(function(o,e){return a("li",{key:e},[a("div",{staticClass:"icon-text"},[a("div",{staticClass:"icon"}),t._v(t._s(o.alarmTstamp))]),a("div",{staticClass:"content"},[t._v(t._s(o.alarmContent))])])})),0),a("div",{staticClass:"decoration"})])])],1)},s=[],i={data:function(){return{titleTstamp:"",alarmInfo:[],alarmRecord:[],tstamp:[],over:[],other:[],chart:{},scorll:null}},computed:{isFold:function(){return this.$store.state.isFold},options:function(){return{color:["#7C6AF6"],tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{show:!0,left:40,top:0,itemGap:10,data:[{name:"超标"},{name:"其他"}]},grid:{left:"60",right:"8",bottom:"30",top:"30"},xAxis:[{type:"category",boundaryGap:!1,splitLine:{show:!0,lineStyle:{color:"#F9F9F9"}},axisLine:{lineStyle:{color:"#F9F9F9"}},axisTick:{show:!1},axisLabel:{show:!0,color:"#B9B9B9",formatter:function(t){return"".concat(t.slice(-2))}},data:this.tstamp}],yAxis:[{type:"value",splitLine:{show:!0,lineStyle:{color:"#F9F9F9"}},axisLine:{lineStyle:{color:"#F9F9F9"}},axisTick:{show:!1},axisLabel:{show:!0,color:"#B9B9B9",margin:20}}],series:[{name:"超标",type:"bar",barMaxWidth:"30",itemStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#FA6C54"},{offset:1,color:"#ED5564"}],global:!1},barBorderRadius:[50,50,0,0]},data:this.over},{name:"其他",type:"line",stack:"总量",smooth:!0,lineStyle:{color:"#7C6AF6",shadowBlur:5,shodowColor:"#7C6AF6",shadowOffsetX:3,shadowOffsetY:3},data:this.other}]}}},watch:{isFold:function(){var t=this;this.$nextTick((function(){setTimeout((function(){t.chart.resize()}),200)}))}},created:function(){var t=new Date,o=new Date((new Date).getTime()-5184e5),a=this.$tools.formatDate(t,"Y年m月d日"),e=this.$tools.formatDate(o,"Y年m月d日");this.titleTstamp="".concat(e," - ").concat(a)},methods:{dealBefore:function(t){this.alarmInfo=t.alarmInfo||[],this.tstamp=this.alarmInfo.map((function(t){return t.alarmTstamp})),this.over=this.alarmInfo.map((function(t){return+t.overAlarm})),this.other=this.alarmInfo.map((function(t){return+t.otherAlarm})),this.alarmRecord=t.alarmRecord||[],this.drawEcharts(),this.autoLoop()},autoLoop:function(){var t=this;this.$nextTick((function(){var o=t.$refs.list;o.scrollHeight>o.clientHeight&&(t.scroll=setInterval((function(){o.scrollTop++,o.scrollTop+o.clientHeight>=o.scrollHeight&&(o.scrollTop=0)}),50),o.onmouseenter=function(){t.scroll&&clearInterval(t.scroll)},o.onmouseleave=function(){t.scroll=setInterval((function(){o.scrollTop++,o.scrollTop+o.clientHeight>=o.scrollHeight&&(o.scrollTop=0)}),50)})}))},drawEcharts:function(){var t=this;this.chart=this.$echarts.init(this.$refs.echarts),this.chart.clear(),this.chart.setOption(this.options),window.addEventListener("resize",(function(){t.chart.resize()}))}}},r=i,l=(a("dd2c"),a("2877")),n=Object(l["a"])(r,e,s,!1,null,"fd3fabbc",null);o["default"]=n.exports},dd2c:function(t,o,a){"use strict";var e=a("e512"),s=a.n(e);s.a},e512:function(t,o,a){}}]);