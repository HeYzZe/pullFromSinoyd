(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b2c7c"],{2624:function(t,e,o){"use strict";o.r(e);var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-card",{attrs:{type:"title",fill:""}},[o("el-form",{staticClass:"mar-t-xs mar-l-sm",attrs:{inline:"",model:t.queryForm}},[o("el-form-item",{attrs:{label:"起止时间："}},[o("el-date-picker",{staticStyle:{width:"140px"},attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",clearable:!1,editable:!1},model:{value:t.queryForm.fromDate,callback:function(e){t.$set(t.queryForm,"fromDate",e)},expression:"queryForm.fromDate"}}),t._v(" ~\n      "),o("el-date-picker",{staticStyle:{width:"140px"},attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",clearable:!1,editable:!1},model:{value:t.queryForm.toDate,callback:function(e){t.$set(t.queryForm,"toDate",e)},expression:"queryForm.toDate"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary",icon:"fas fa-search"},on:{click:function(e){return t.onQueryList()}}},[t._v("查 询")])],1),o("el-form-item",[o("el-button",{attrs:{type:"primary",icon:"fas fa-download",loading:t.downloading},on:{click:t.onDownload}},[t._v("导 出")])],1)],1),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{border:"","highlight-current-row":"",height:"calc(100% - 30px)",data:t.itemList}},[o("el-table-column",{attrs:{align:"center",label:"No.",width:"50",type:"index",index:t.index}}),o("el-table-column",{attrs:{property:"cmdDesc",label:"命令描述","min-width":"280","show-overflow-tooltip":""}}),o("el-table-column",{attrs:{property:"releaseStatus",label:"下发情况","min-width":"120","show-overflow-tooltip":""}}),o("el-table-column",{attrs:{property:"responseStatus",label:"现场应答情况","min-width":"120","show-overflow-tooltip":""}}),o("el-table-column",{attrs:{property:"execState",label:"最终执行情况","min-width":"120","show-overflow-tooltip":""}}),o("el-table-column",{attrs:{property:"addDate",label:"操作时间","min-width":"160","show-overflow-tooltip":""}}),o("el-table-column",{attrs:{property:"addUserName",label:"发送人","min-width":"100","show-overflow-tooltip":""}}),o("el-table-column",{attrs:{property:"portName",label:"排口名称","min-width":"140","show-overflow-tooltip":""}}),o("el-table-column",{attrs:{property:"psName",label:"企业名称","min-width":"200","show-overflow-tooltip":""}})],1),o("paging-query",{attrs:{pager:t.pager},on:{query:t.getItemList}})],1)},a=[],l=(o("8e6e"),o("ac6a"),o("456d"),o("bd86")),n=o("73cb"),i=o("0069"),s=o("90de");function c(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,r)}return o}function d(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?c(o,!0).forEach((function(e){Object(l["a"])(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):c(o).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var p={name:"RemoteRecord",mixins:[n["c"]],props:["portId"],data:function(){return{isAuto:!1,url:"tpeci/remoteControl",queryForm:{fromDate:Object(s["b"])(-2,!1,!1),toDate:Object(s["b"])(0,!1,!1)},downloading:!1}},watch:{portId:function(){this.getItemList()}},methods:{getItemList:function(){var t=this;this.loading=!0;var e=this.pager,o=e.page,r=e.rows;this.$http.post(this.url,d({},this.queryForm,{portId:this.portId}),{params:{page:o,rows:r,sort:"addDate-"}}).then((function(e){200===e.status&&e.data.success?(t.itemList=e.data.data,t.pager.count=e.data.count):t.$message.warning({message:e.data.msg,duration:3e3,showClose:!0})}),(function(t){var e=t.response;Object(i["a"])(e)})).finally((function(){t.loading=!1}))},onDownload:function(){var t=this;this.downloading=!0,this.$http.post("".concat(this.url,"/export?sort=addDate-"),d({},this.queryForm,{portId:this.portId}),{responseType:"blob"}).then((function(e){var o="远程控制".concat((new Date).toLocaleDateString(),".xls");t.$tools.downloadFile(e,o)}),(function(t){var e=t.response;Object(i["a"])(e)})).finally((function(){t.downloading=!1}))}}},u=p,m=o("2877"),y=Object(m["a"])(u,r,a,!1,null,"e7ecad58",null);e["default"]=y.exports}}]);