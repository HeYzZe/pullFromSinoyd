(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-12010a48","chunk-2d0de509","chunk-2d216ede"],{5088:function(t,e,r){"use strict";var a=r("c5cd"),o=r.n(a);o.a},"84b9":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-row",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"fill-h",attrs:{gutter:t.$config.space}},[r("el-col",{attrs:{span:24,h:6}},[r("el-card",{attrs:{type:"title"}},[r("template",{slot:"header"},[t._v("控制命令")]),r("el-radio-group",{staticClass:"mar-l-sm mar-t-sm",model:{value:t.queryForm.cn,callback:function(e){t.$set(t.queryForm,"cn",e)},expression:"queryForm.cn"}},[r("el-row",t._l(t.$enum.get("REMOTE_PROYOCOL",t.active).common,(function(e,a){return r("el-col",{key:a,staticClass:"mar-b-sm",attrs:{span:24}},[r("el-radio",{attrs:{label:a}},[t._v(t._s(e))])],1)})),1)],1)],2)],1),r("el-col",{staticClass:"mar-t-xs",attrs:{span:24,h:6}},[r("el-card",{attrs:{type:"title"}},[r("template",{slot:"header"},[t._v("命令设置")]),r("div",{staticClass:"mar-t-xs mar-l-sm"},[r("el-button",{attrs:{type:"success",icon:"fas fa-clipboard-check"},on:{click:t.onSendOder}},[t._v("发送命令")])],1),r("div",{directives:[{name:"show",rawName:"v-show",value:"3810"===t.queryForm.cn,expression:"queryForm.cn === '3810'"}],staticClass:"mar-t-sm mar-l-sm"},[r("div",[t._v("远程开阀")]),r("div",{staticClass:"mar-t-xs"},[t._v("远程开阀命令")])]),r("div",{directives:[{name:"show",rawName:"v-show",value:"3811"===t.queryForm.cn,expression:"queryForm.cn === '3811'"}],staticClass:"mar-t-sm mar-l-sm"},[r("div",[t._v("远程关阀")]),r("div",{staticClass:"mar-t-xs"},[t._v("远程关阀命令")])]),r("div",{directives:[{name:"show",rawName:"v-show",value:"3812"===t.queryForm.cn,expression:"queryForm.cn === '3812'"}],staticClass:"mar-t-sm mar-l-sm"},[r("div",[t._v("解除阀门控制")]),r("div",{staticClass:"mar-t-xs"},[t._v("解除阀门控制命令")])])],2)],1)],1)},o=[],s=(r("8e6e"),r("ac6a"),r("456d"),r("bd86")),n=r("0069");function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(r,!0).forEach((function(e){Object(s["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var c={name:"ControlConfig",props:["portId"],data:function(){return{loading:!1,queryForm:{portIds:[],cn:"3810"},active:"valve"}},created:function(){this.queryForm.portIds=[this.portId]},methods:{onSendOder:function(){var t=this;this.queryForm.portIds=[this.portId],this.$http.post("tpeci/batchSwitchValve/execute",l({},this.queryForm)).then((function(e){200===e.status&&e.data.success?(t.$emit("onQuerylist",e),t.$message.success({message:"发送成功",duration:3e3,showClose:!0})):t.$message.warning({message:e.data.msg,duration:3e3,showClose:!0})}),(function(t){Object(n["a"])(t)})).finally((function(){t.loading=!1}))}}},u=c,d=r("2877"),m=Object(d["a"])(u,a,o,!1,null,"e21e253e",null);e["default"]=m.exports},c50f:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-card",{staticStyle:{"border-top":"1px solid #ebeef5"},attrs:{type:"title",fill:""}},[r("el-form",{staticClass:"mar-t-xs mar-l-sm",attrs:{inline:"",model:t.queryForm}},[r("el-form-item",{attrs:{label:"起止时间："}},[r("el-date-picker",{staticStyle:{width:"140px"},attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd 00:00:00",clearable:!1,editable:!1},model:{value:t.queryForm.fromTime,callback:function(e){t.$set(t.queryForm,"fromTime",e)},expression:"queryForm.fromTime"}}),t._v(" ~\n      "),r("el-date-picker",{staticStyle:{width:"140px"},attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd 23:59:59",clearable:!1,editable:!1},model:{value:t.queryForm.toTime,callback:function(e){t.$set(t.queryForm,"toTime",e)},expression:"queryForm.toTime"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary",icon:"fas fa-search"},on:{click:function(e){return t.onQueryList()}}},[t._v("查 询")])],1)],1),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{border:"","highlight-current-row":"",height:"calc(100% - 30px)",data:t.itemList}},[r("el-table-column",{attrs:{align:"center",label:"No.",width:"50",type:"index",index:t.index}}),r("el-table-column",{attrs:{property:"modifyName",label:"发送人","min-width":"100","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{property:"createDate",label:"操作时间","min-width":"160","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{property:"valveStatus",label:"阀门状态","min-width":"80","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[t._v("\n        "+t._s(t.$enum.getLabel("VALVE_STATUS",""+r.valveStatus))+"\n      ")]}}])}),r("el-table-column",{attrs:{property:"cmdDesc",label:"命令描述","min-width":"280","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{property:"execState",label:"命令执行情况","min-width":"120"}})],1),r("paging-query",{attrs:{pager:t.pager},on:{query:t.getItemList}})],1)},o=[],s=(r("8e6e"),r("ac6a"),r("456d"),r("bd86")),n=r("73cb"),i=r("0069"),l=r("90de");function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(r,!0).forEach((function(e){Object(s["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var d={name:"RemoteRecord",mixins:[n["c"]],props:["portId"],data:function(){return{url:"tpeci/oriSend",queryForm:{cnList:["3810","3811","3812"],fromTime:Object(l["b"])(-2,!0,!1),toTime:Object(l["b"])(0,!0,!0)},status:["下发中","执行成功","执行失败"],downloading:!1}},methods:{getItemList:function(){var t=this;this.loading=!0;var e=this.pager,r=e.page,a=e.rows;this.$http.post(this.url,u({},this.queryForm,{portId:this.portId}),{params:{page:r,rows:a,sort:"createDate-"}}).then((function(e){200===e.status&&e.data.success?(t.itemList=e.data.data,t.pager.count=e.data.count):t.$message.warning({message:e.data.msg,duration:3e3,showClose:!0})}),(function(t){var e=t.response;Object(i["a"])(e)})).finally((function(){t.loading=!1}))}}},m=d,p=r("2877"),f=Object(p["a"])(m,a,o,!1,null,"38da6244",null);e["default"]=f.exports},c5cd:function(t,e,r){},d2f2:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("dialog-modal",{ref:"dialog",staticClass:"table-dialog table-fill-h dialog-body-fill-h",attrs:{scrollbar:"",type:"title",size:"large",title:"开关阀详情"}},[r("el-row",{directives:[{name:"resize",rawName:"v-resize"}],staticClass:"fill-h pad-b-sm",attrs:{gutter:t.$config.space}},[r("el-col",{staticClass:"pad-r-0",attrs:{span:16}},[r("remote-record",{ref:"remoteRecord",attrs:{portId:t.portId}})],1),r("el-col",{attrs:{span:8}},[r("control-config",{attrs:{portId:t.portId},on:{onQueryList:t.onQueryList}})],1)],1)],1)},o=[],s=r("c50f"),n=r("84b9"),i={name:"RemoteControl",components:{RemoteRecord:s["default"],ControlConfig:n["default"]},data:function(){return{portId:""}},methods:{openDialog:function(t){var e=this;this.portId=t.portId,this.$refs.dialog.openDialog(),this.$nextTick((function(){e.onQueryList()}))},onQueryList:function(){this.$refs.remoteRecord.onQueryList()}}},l=i,c=(r("5088"),r("2877")),u=Object(c["a"])(l,a,o,!1,null,null,null);e["default"]=u.exports}}]);