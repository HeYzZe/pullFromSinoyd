(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e252f"],{"7de1":function(e,a,t){"use strict";t.r(a);var s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"fill-h",attrs:{gutter:e.$config.space}},[t("el-col",{attrs:{span:24,h:6}},[t("el-card",{attrs:{type:"title"}},[t("template",{slot:"header"},[e._v("控制命令")]),t("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":e.onTabClick},model:{value:e.active,callback:function(a){e.active=a},expression:"active"}},[t("el-tab-pane",{attrs:{label:"控制命令",name:"valve"}},[t("el-radio-group",{staticClass:"mar-l-sm mar-t-sm",model:{value:e.queryForm.cmdName,callback:function(a){e.$set(e.queryForm,"cmdName",a)},expression:"queryForm.cmdName"}},[t("el-row",[e._l(e.$enum.get("REMOTE_PROYOCOL",e.active).common,(function(a,s){return t("el-col",{key:s,staticClass:"mar-b-sm",attrs:{span:24}},[t("el-radio",{attrs:{label:s}},[e._v(e._s(a))])],1)})),""!==e.queryForm.protocol?t("div",e._l(e.$enum.get("REMOTE_PROYOCOL",e.active)[e.queryForm.protocol],(function(a,s){return t("el-col",{key:s,staticClass:"mar-b-sm",attrs:{span:24}},[t("el-radio",{attrs:{label:s}},[e._v(e._s(a))])],1)})),1):e._e()],2)],1)],1),t("el-tab-pane",{attrs:{label:"数据命令",name:"data"}},[t("el-radio-group",{staticClass:"mar-l-sm mar-t-sm",model:{value:e.queryForm.cmdName,callback:function(a){e.$set(e.queryForm,"cmdName",a)},expression:"queryForm.cmdName"}},[t("el-row",[e._l(e.$enum.get("REMOTE_PROYOCOL",e.active).common,(function(a,s){return t("el-col",{key:s,staticClass:"mar-b-sm",attrs:{span:24}},[t("el-radio",{attrs:{label:s}},[e._v(e._s(a))])],1)})),""!==e.queryForm.protocol?t("div",e._l(e.$enum.get("REMOTE_PROYOCOL",e.active)[e.queryForm.protocol],(function(a,s){return t("el-col",{key:s,staticClass:"mar-b-sm",attrs:{span:24}},[t("el-radio",{attrs:{label:s}},[e._v(e._s(a))])],1)})),1):e._e()],2)],1)],1)],1)],2)],1),t("el-col",{staticClass:"mar-t-xs",attrs:{span:24,h:6}},[t("el-card",{attrs:{type:"title"}},[t("template",{slot:"header"},[e._v("命令设置")]),t("div",{staticClass:"mar-t-xs mar-l-sm"},[t("el-button",{attrs:{type:"success",icon:"fas fa-clipboard-check"},on:{click:e.onSendOder}},[e._v("发送命令")])],1),t("div",{directives:[{name:"show",rawName:"v-show",value:"1"===e.queryForm.cmdName,expression:"queryForm.cmdName === '1'"}],staticClass:"mar-t-sm mar-l-sm"},[t("div",[e._v("取总量阈值")]),t("div",{staticClass:"mar-t-xs"},[e._v("提取关阀总量阈值命令")])]),t("div",{directives:[{name:"show",rawName:"v-show",value:"2"===e.queryForm.cmdName,expression:"queryForm.cmdName === '2'"}],staticClass:"mar-t-sm mar-l-sm"},[t("div",[e._v("取浓度阈值")]),t("div",{staticClass:"mar-t-xs"},[e._v("提取关阀浓度阈值命令")])]),t("div",{directives:[{name:"show",rawName:"v-show",value:"3811"===e.queryForm.cmdName,expression:"queryForm.cmdName === '3811'"}],staticClass:"mar-t-sm mar-l-sm"},[t("div",[e._v("远程关阀")]),t("div",{staticClass:"mar-t-xs"},[e._v("远程关阀命令")])]),t("div",{directives:[{name:"show",rawName:"v-show",value:"3812"===e.queryForm.cmdName,expression:"queryForm.cmdName === '3812'"}],staticClass:"mar-t-sm mar-l-sm"},[t("div",[e._v("解除阀门控制")]),t("div",{staticClass:"mar-t-xs"},[e._v("解除阀门控制命令")])]),t("div",{directives:[{name:"show",rawName:"v-show",value:"2881"===e.queryForm.cmdName,expression:"queryForm.cmdName === '2881'"}],staticClass:"mar-t-sm mar-l-sm"},[t("div",[e._v("取阀门动态信息")]),t("div",{staticClass:"mar-t-xs"},[e._v("提取时间段内阀门动态信息")]),t("el-form",{staticClass:"mar-t-xs"},[t("el-form-item",{attrs:{label:"开始时间："}},[t("el-date-picker",{staticStyle:{width:"200px"},attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",clearable:!1,editable:!1},model:{value:e.cmdParas["2881"].BeginTime,callback:function(a){e.$set(e.cmdParas["2881"],"BeginTime",a)},expression:"cmdParas['2881'].BeginTime"}})],1),t("el-form-item",{attrs:{label:"结束时间："}},[t("el-date-picker",{staticStyle:{width:"200px"},attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",clearable:!1,editable:!1},model:{value:e.cmdParas["2881"].EndTime,callback:function(a){e.$set(e.cmdParas["2881"],"EndTime",a)},expression:"cmdParas['2881'].EndTime"}})],1)],1)],1),t("div",{directives:[{name:"show",rawName:"v-show",value:"2873"===e.queryForm.cmdName,expression:"queryForm.cmdName === '2873'"}],staticClass:"mar-t-sm mar-l-sm"},[t("div",[e._v("提取报警历史")]),t("div",{staticClass:"mar-t-xs"},[e._v("提取时间段内提取报警历史")]),t("el-form",{staticClass:"mar-t-xs"},[t("el-form-item",{attrs:{label:"开始时间："}},[t("el-date-picker",{staticStyle:{width:"200px"},attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",clearable:!1,editable:!1},model:{value:e.cmdParas["2873"].BeginTime,callback:function(a){e.$set(e.cmdParas["2873"],"BeginTime",a)},expression:"cmdParas['2873'].BeginTime"}})],1),t("el-form-item",{attrs:{label:"结束时间："}},[t("el-date-picker",{staticStyle:{width:"200px"},attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",clearable:!1,editable:!1},model:{value:e.cmdParas["2873"].EndTime,callback:function(a){e.$set(e.cmdParas["2873"],"EndTime",a)},expression:"cmdParas['2873'].EndTime"}})],1)],1)],1),t("div",{directives:[{name:"show",rawName:"v-show",value:"2831"===e.queryForm.cmdName,expression:"queryForm.cmdName === '2831'"}],staticClass:"mar-t-sm mar-l-sm"},[t("div",[e._v("取总量日数据")]),t("div",{staticClass:"mar-t-xs"},[e._v("提取时间段内总量历史日数据")]),t("el-form",{staticClass:"mar-t-xs"},[t("el-form-item",{attrs:{label:"开始时间："}},[t("el-date-picker",{staticStyle:{width:"140px"},attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd 00:00:00",clearable:!1,editable:!1},model:{value:e.cmdParas["2831"].BeginTime,callback:function(a){e.$set(e.cmdParas["2831"],"BeginTime",a)},expression:"cmdParas['2831'].BeginTime"}})],1),t("el-form-item",{attrs:{label:"结束时间："}},[t("el-date-picker",{staticStyle:{width:"140px"},attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd 23:59:59",clearable:!1,editable:!1},model:{value:e.cmdParas["2831"].EndTime,callback:function(a){e.$set(e.cmdParas["2831"],"EndTime",a)},expression:"cmdParas['2831'].EndTime"}})],1)],1)],1),t("div",{directives:[{name:"show",rawName:"v-show",value:"2861"===e.queryForm.cmdName,expression:"queryForm.cmdName === '2861'"}],staticClass:"mar-t-sm mar-l-sm"},[t("div",[e._v("取总量小时数据")]),t("div",{staticClass:"mar-t-xs"},[e._v("提取时间段内总量历史小时数据")]),t("el-form",{staticClass:"mar-t-xs"},[t("el-form-item",{attrs:{label:"开始时间："}},[t("el-date-picker",{staticStyle:{width:"160px"},attrs:{type:"datetime",format:"yyyy-MM-dd HH","value-format":"yyyy-MM-dd HH:00:00",clearable:!1,editable:!1},model:{value:e.cmdParas["2861"].BeginTime,callback:function(a){e.$set(e.cmdParas["2861"],"BeginTime",a)},expression:"cmdParas['2861'].BeginTime"}})],1),t("el-form-item",{attrs:{label:"结束时间："}},[t("el-date-picker",{staticStyle:{width:"160px"},attrs:{type:"datetime",format:"yyyy-MM-dd HH","value-format":"yyyy-MM-dd HH:00:00",clearable:!1,editable:!1},model:{value:e.cmdParas["2861"].EndTime,callback:function(a){e.$set(e.cmdParas["2861"],"EndTime",a)},expression:"cmdParas['2861'].EndTime"}})],1)],1)],1)],2)],1)],1)},r=[],m=(t("8e6e"),t("a481"),t("bd86")),i=(t("7f7f"),t("ac6a"),t("456d"),t("768b")),c=t("4161"),o=t("0069");function l(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,s)}return t}function d(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?l(t,!0).forEach((function(a){Object(m["a"])(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var n={name:"ControlConfig",props:["portId"],data:function(){return{loading:!1,queryForm:{cmdName:"3810",portId:"",protocol:1,st:43,cmdParas:{}},portIds:[],factorsList:[],active:"valve",cmdParas:{2881:{BeginTime:Object(c["formatDate"])(new Date,"Y-m-d 00:00:00"),EndTime:Object(c["formatDate"])(new Date,"Y-m-d 23:59:59")},2873:{BeginTime:Object(c["formatDate"])(new Date,"Y-m-d 00:00:00"),EndTime:Object(c["formatDate"])(new Date,"Y-m-d 23:59:59")},2831:{BeginTime:Object(c["formatDate"])(new Date,"Y-m-d 00:00:00"),EndTime:Object(c["formatDate"])(new Date,"Y-m-d 23:59:59")},2861:{BeginTime:Object(c["formatDate"])(new Date,"Y-m-d 00:00:00"),EndTime:Object(c["formatDate"])(new Date,"Y-m-d 00:00:00")},3810:{UT:1},3811:{UT:1},3812:{UT:1},1:{},2:{},1e3:{OverTime:0,ReCount:0}}}},watch:{portId:function(e){this.queryForm.portId=e}},created:function(){this.queryForm.portId=this.portId},methods:{onTabClick:function(e){var a=Object.keys(this.$enum.get("REMOTE_PROYOCOL",e.name).common),t=Object(i["a"])(a,1);this.queryForm.cmdName=t[0]},getFactorsList:function(){var e=this;this.$http.get("cfg/factors/",{params:{page:1,rows:1e5,factorsType:1,category:this.amcsType,sort:"factorCode"}}).then((function(a){200===a.status&&a.data.success&&(e.factorsList=a.data.data)}),(function(e){var a=e.response;Object(o["a"])(a)}))},onSendOder:function(){var e=this;if(this.loading=!0,"2"!==this.queryForm.cmdName&&"1"!==this.queryForm.cmdName){var a=d({},this.queryForm,{cmdParas:d({},this.cmdParas[this.queryForm.cmdName])||{}});a.cmdParas.BeginTime&&(a.cmdParas.BeginTime=a.cmdParas.BeginTime.replace(/\D/g,"")),a.cmdParas.EndTime&&(a.cmdParas.EndTime=a.cmdParas.EndTime.replace(/\D/g,"")),this.$http.post("tpeci/remoteControl/execute",a).then((function(a){200===a.status&&a.data.success?(e.$emit("onQuerylist",a),e.$message.success({message:"发送成功",duration:3e3,showClose:!0})):e.$message.warning({message:a.data.msg,duration:3e3,showClose:!0})}),(function(e){Object(o["a"])(e)})).finally((function(){e.loading=!1}))}else{var t={portId:this.portId,type:this.queryForm.cmdName};this.$http.get("tpeci/valveScheme2Port/extract",{params:d({},t)}).then((function(a){200===a.status&&a.data.success?(e.$emit("onQuerylist",a),e.$message.success({message:"发送成功",duration:3e3,showClose:!0})):e.$message.warning({message:a.data.msg,duration:3e3,showClose:!0})}),(function(e){Object(o["a"])(e)})).finally((function(){e.loading=!1}))}}}},u=n,y=t("2877"),v=Object(y["a"])(u,s,r,!1,null,"45ceca65",null);a["default"]=v.exports}}]);