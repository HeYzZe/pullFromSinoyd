!function(V){"use strict";var q="ht",s=V[q],y=s.Default,G=Math,d=(G.PI,G.sin,G.cos,G.atan2,G.sqrt,G.max),K=G.floor,u=(G.round,G.ceil),l=s.Shape,z=(s.Edge,s.List),e=s.Style,t=s.graph,x=y.getInternal(),v=x.ui(),i=null,c="prototype",w=V.clearInterval,h=V.setInterval,U=function(L){var A=L.data,g=this.dm();if(A&&"add"===L.kind){var m=g.$1c,n=A instanceof l?"shape.":"edge.";m&&A.s(n+"dash.flow")&&m.indexOf(A)<0&&m.push(A)}"clear"===L.kind&&(g.$1c=[])},Z=function(L){var B=L.property,A=L.data,I=L.newValue,P=this.dm().$1c,v=A instanceof l?"s:shape.dash.flow":"s:edge.dash.flow";if(P&&B===v)if(I)P.indexOf(A)<0&&P.push(A);else for(var Z=P.length,X=0;Z>X;X++)if(P[X]===A){P.splice(X,1);break}},B=t.GraphView[c],_=v.EdgeUI[c],S=v.ShapeUI[c],m=S._80o,M=_._80o,R=s.DataModel[c],F=R.prepareRemove,a=B.setDataModel;e["edge.dash.flow.step"]==i&&(e["edge.dash.flow.step"]=3),e["shape.dash.flow.step"]==i&&(e["shape.dash.flow.step"]=3),R.prepareRemove=function(n){F.call(this,n);var E=n._dataModel,S=E.$1c;if(S)for(var I=S.length,J=0;I>J;J++)if(S[J]===n){S.splice(J,1);break}},B.setDataModel=function(u){var G=this,N=G._dataModel;if(N!==u){N&&(N.umm(U,G),N.umd(Z,G),N.$1c=[]),u.mm(U,G),u.md(Z,G);var V=u.$1c=[];u.each(function(c){var G=c instanceof l?"shape.":"edge.";c.s(G+"dash.flow")&&V.indexOf(c)<0&&V.push(c)}),a.call(G,u)}},B.setDashFlowInterval=function(C){var v=this,$=v.$2c;v.$2c=C,v.fp("dashFlowInterval",$,C),v.$3c!=i&&(w(v.$3c),delete v.$3c,v.enableDashFlow(C))},B.getDashFlowInterval=function(){return this.$2c},B.$4c=function(){var _,V,j,Q=this,t=Q.tx(),v=Q.ty(),D=Q._zoom,w=Q.getWidth(),H=Q.getHeight(),O={x:-t/D,y:-v/D,width:w/D,height:H/D},M=Q.dm().$1c,g=Q._56I,m=new z;if(M.forEach(function(R){g[R.getId()]&&(_=Q.getDataUI(R),_&&(j=_._79o(),j&&m.add(j)))}),0!==m.size()&&(m.each(function(A){y.intersectsRect(O,A)&&(V=y.unionRect(V,A))}),V&&(V&&(y.grow(V,d(1,1/D)),V.x=K(V.x*D)/D,V.y=K(V.y*D)/D,V.width=u(V.width*D)/D,V.height=u(V.height*D)/D,V=y.intersection(O,V)),V))){var E=Q._canvas.getContext("2d");E.save(),E.lineCap=y.lineCap,E.lineJoin=y.lineJoin,x.translateAndScale(E,t,v,D),E.beginPath(),E.rect(V.x,V.y,V.width,V.height),E.clip(),E.clearRect(V.x,V.y,V.width,V.height),Q.$5c(E,V),E.restore()}},B.$5c=function(k,h){var X,L,p=this;p._93db(k),p.each(function(e){p._56I[e._id]&&(X=p.getDataUI(e),X&&(L=X._79o(),(!h||y.intersectsRect(h,L))&&(X.$7c=!0,X._42(k),delete X.$7c)))}),p._92db(k)},B.enableDashFlow=function(T){var J=this;J.$3c==i&&(J.$3c=h(function(){J.$4c()},T||J.$2c||50))},B.disableDashFlow=function(){var V=this;w(V.$3c),delete V.$3c};var b=function(){var i=this,u=i._data,m=u instanceof l?"shape.":"edge.",y=u.s(m+"dash.pattern"),E=u.s(m+"dash.flow.reverse");if(y&&u.s(m+"dash")&&u.s(m+"dash.flow")&&i.$7c){var Q=i.s(m+"dash.offset")||0,o=u.s(m+"dash.flow.step"),N=u.getStyleMap(),p=0;y.forEach(function(q){p+=q}),E&&(o=-o),Q-=o,Q%=p,N||(u._styleMap=N={}),N[m+"dash.offset"]=Q}};_._80o=function(s){M.call(this,s),b.call(this)},S._80o=function(C){m.call(this,C),b.call(this)}}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);