!function(E,q,w){"use strict";var S="ht",P=E[S],T=null,z=Math,k=z.abs,Z=z.max,a=Number.MAX_VALUE,Y=P.Default,L=Y.getInternal(),B=Y.clone,_=L.vec3TransformMat4,n=L.appendArray,m=function(){var H=/v( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,h=/vt( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,j=/vn( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,p=function(H,i){return i=parseInt(i),i>=0?H[i-1]:H[i+H.length]},m=function(C,c,t,Q,q,u){if(C.vs){var H=p(c,Q),O=p(c,q),P=p(c,u),s=t.matrix,f=C.vs;if(t.flipFace){var K=O;O=P,P=K}s?(n(f,_(B(H),s)),n(f,_(B(O),s)),n(f,_(B(P),s))):(n(f,H),n(f,O),n(f,P))}},N=function(M,B,N,D,R,E){if(M.vs){var $=p(B,D),I=p(B,R),a=p(B,E),S=N.flipY;if(N.flipFace){var C=I;I=a,a=C}M.uv.push($[0],S?1-$[1]:$[1],I[0],S?1-I[1]:I[1],a[0],S?1-a[1]:a[1])}},v=function(m,d,D,R,K,N){if(m.vs){var C=p(d,R),e=p(d,K),a=p(d,N),Q=D.normalMatrix,Z=m.ns;if(D.flipFace){var V=e;e=a,a=V}Q?(n(Z,_(B(C),Q)),n(Z,_(B(e),Q)),n(Z,_(B(a),Q))):(n(Z,C),n(Z,e),n(Z,a))}},M=function(K,Q,Z,b,O,_,a,h){var x=b&&b.length&&h;_[3]===w?(m(K,Q,O,_[0],_[1],_[2]),a&&N(K,Z,O,a[0],a[1],a[2]),x&&v(K,b,O,h[0],h[1],h[2])):(m(K,Q,O,_[0],_[1],_[3]),m(K,Q,O,_[1],_[2],_[3]),a&&(N(K,Z,O,a[0],a[1],a[3]),N(K,Z,O,a[1],a[2],a[3])),x&&(v(K,b,O,h[0],h[1],h[3]),v(K,b,O,h[1],h[2],h[3])))},K=function(D,S,F,b){var A,p,m,N,t,Y,L,i=a,f=a,M=a,n=-a,B=-a,e=-a;for(A in D)for(Y=D[A].vs,L=Y.length,p=0;L>p;p+=3)m=Y[p+0],N=Y[p+1],t=Y[p+2],i>m&&(i=m),f>N&&(f=N),M>t&&(M=t),m>n&&(n=m),N>B&&(B=N),t>e&&(e=t);if(F){var O=i+(n-i)/2,U=f+(B-f)/2,d=M+(e-M)/2;for(A in D)for(Y=D[A].vs,L=Y.length,p=0;L>p;p+=3)Y[p+0]-=O,Y[p+1]-=U,Y[p+2]-=d}var J,I,l;F?(J=n-i,I=B-f,l=e-M):(J=2*Z(k(i),k(n)),I=2*Z(k(f),k(B)),l=2*Z(k(M),k(e))),b.rawS3=[J,I,l];for(A in D){if(Y=D[A].vs,S)for(L=Y.length,p=0;L>p;p+=3)J&&(Y[p+0]/=J),I&&(Y[p+1]/=I),l&&(Y[p+2]/=l);D[A].rawS3=b.rawS3}};return function(u,x,S){if(!u)return T;(L.isString(x)||x instanceof ArrayBuffer)&&(x=t(x)),S||(S={}),S.flipY==T&&(S.flipY=!0),(S.s3||S.r3||S.t3||S.mat)&&(S.matrix=L.createWorldMatrix(S.mat,S.s3,S.r3,S.rotationMode,S.t3));var k,z,Z,Q,I,f,P=[],D=[],F=S.ignoreNormal?T:[],p=S.reverseFlipMtls,C={vs:[],uv:[],ns:F?[]:T},y={htdefault:C},s=new R(u);for(F&&S.matrix&&(S.normalMatrix=L.createNormalMatrix(S.matrix));null!=(z=s.stepNext());)if(z=z.trim(),0!==z.length&&"#"!==z.charAt(0))if(Z=H.exec(z))P.push([parseFloat(Z[1]),parseFloat(Z[2]),parseFloat(Z[3])]);else if(Z=h.exec(z))D.push([parseFloat(Z[1]),parseFloat(Z[2])]);else if(F&&(Z=j.exec(z)))S.flipFace?F.push([parseFloat(-Z[1]),parseFloat(-Z[2]),parseFloat(-Z[3])]):F.push([parseFloat(Z[1]),parseFloat(Z[2]),parseFloat(Z[3])]);else if("f"===z[0]){var A=z.split(/\s+/);if(A.length<4)continue;var e,k,w,_=[],m=[],X=[];for(k=1,w=A.length;w>k;k++)e=A[k].split("/"),_.push(parseInt(e[0],10)),e.length>1&&e[1].length>0&&X.push(parseInt(e[1],10)),e.length>2&&e[2].length>0&&m.push(parseInt(e[2],10));for(k=0,w=_.length-2;w>k;k++)M(C,P,D,F,S,[_[0],_[k+1],_[k+2]],X.length?[X[0],X[k+1],X[k+2]]:T,m.length?[m[0],m[k+1],m[k+2]]:T)}else if(/^usemtl /.test(z)&&(Q=z.substring(7).trim(),!(C=y[Q]))){if(C={name:Q,vs:[],uv:[],ns:F?[]:T},S.ignoreMtls&&S.ignoreMtls.indexOf(Q)>=0&&delete C.vs,(S.reverseFlip||"*"===p||p&&p.indexOf(Q)>=0)&&(C.reverseFlip=!0),x&&(I=x[Q],I&&(S.ignoreColor||(C.color=I.kd),!S.ignoreTransparent&&I.d>0&&I.d<1&&(C.transparent=!0,C.opacity=I.d),!S.ignoreImage&&(f=I.map_kd)))){f=f.split(" ");var N=-1;for(k=0;k<f.length;k++)"-o"===f[k]?(C.uvOffset=[parseFloat(f[k+1]),parseFloat(f[k+2])],k+=2,N=k):"-s"===f[k]&&(C.uvScale=[parseFloat(f[k+1]),parseFloat(f[k+2])],k+=2,N=k);C.image=(S.prefix||"")+f.splice(N+1).join(" ")}y[Q]=C}var o=[];for(var g in y){var E=y[g].vs;E&&0!==E.length||o.push(g)}o.forEach(function(z){delete y[z]}),K(y,S.cube,S.center,S);var q=S.shape3d;if(q){var l=[];for(var Q in y){var C=y[Q];l.rawS3=C.rawS3,l.push(C)}Y.setShape3dModel(q,l)}return y}}(),t=function(a){var x={};if(a)for(var W,I,d,T,P,q,s=new R(a),u=/\s+/;null!=(I=s.stepNext());)I=I.trim(),0!==I.length&&"#"!==I.charAt(0)&&(d=I.indexOf(" "),T=(d?I.substring(0,d):I).toLowerCase(),P=(d?I.substring(d+1):"").trim(),"newmtl"===T?x[P]=W={name:P}:W&&("ka"===T||"kd"===T||"ks"===T?(q=P.split(u,3),W[T]=[parseFloat(q[0]),parseFloat(q[1]),parseFloat(q[2]),1]):W[T]="ns"===T||"d"===T?parseFloat(P):P));return x},R=function(I){var D=this;if(I instanceof ArrayBuffer){D.isBuffer=!0;var Q=0,t=new Uint8Array(I),z=t.length,P=t.length;D.stepNext=function(){for(var l,d,B=Q;z>Q;)if(l=t[Q],d=l>>4,12===d||13==d)Q+=2;else if(14===d)Q+=3;else if(Q++,10===l)return String.fromCharCode.apply(null,t.subarray(B,Q));return Q>B?String.fromCharCode.apply(null,t.subarray(B,Q)):null}}else{D.isBuffer=!1;var f=I.split("\n"),Z=0,P=f.length;D.stepNext=function(){return P>Z?f[Z++]:null}}};R.prototype={},R.prototype.constructor=R,L.addMethod(Y,{loadObj:function(F,$,L){L=L||{};var e=!1;/(MSIE |Trident\/|Edge\/)/.test(E.navigator.userAgent)&&(e=!0);var J=function(_){var C,i=L.finishFunc,T=L.shape3d,z=_?m(_[0],_[1],L):null;if(z){if(T)C=Y.getShape3dModel(T);else{C=[];for(var p in z){var j=z[p];C.rawS3=j.rawS3,C.push(j)}}i&&i(z,C,C.rawS3)}else i&&i(null)};if(e){var o=function(N){L.responseType="arraybuffer",Y.xhrLoad(F,function(A){J([A,N])},L)};$?Y.xhrLoad($,function(m){o(m)},L):o()}else Y.xhrLoad($?[F,$]:[F],J,L)},parseObj:function(e,c,a){return m(e,c,a)}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);